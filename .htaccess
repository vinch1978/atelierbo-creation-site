# -------------------------------------------------------
# Forcer HTTPS et supprimer le www
# -------------------------------------------------------
RewriteEngine On

# Si HTTPS n'est pas activé OU si l'URL commence par www.
RewriteCond %{HTTPS} off [OR]
RewriteCond %{HTTP_HOST} ^www\.atelierbo-creation\.fr [NC]

# Redirection vers la version canonique : https://atelierbo-creation.fr/
RewriteRule ^(.*)$ https://atelierbo-creation.fr/$1 [L,R=301]


# -------------------------------------------------------
# Rediriger /acceuil.html vers /
# (pour éviter le contenu dupliqué)
# -------------------------------------------------------
RewriteCond %{THE_REQUEST} \s/+acceuil\.html[\s?] [NC]
RewriteRule ^acceuil\.html$ https://atelierbo-creation.fr/ [L,R=301]


# -------------------------------------------------------
# Page 404 personnalisée
# -------------------------------------------------------
ErrorDocument 404 /404.html


# -------------------------------------------------------
# En-têtes de sécurité simples
# (si ton hébergeur renvoie une erreur 500, commente-les)
# -------------------------------------------------------
<IfModule mod_headers.c>
  # Empêche l'iframe depuis d'autres sites
  Header set X-Frame-Options "SAMEORIGIN"

  # Empêche certains types d’attaques par MIME sniffing
  Header set X-Content-Type-Options "nosniff"

  # Politique de referrer plus respectueuse
  Header set Referrer-Policy "strict-origin-when-cross-origin"

  # Cache basique pour les fichiers statiques (images, CSS, JS, icônes)
  <FilesMatch "\.(jpg|jpeg|png|gif|webp|css|js|ico)$">
    Header set Cache-Control "public, max-age=604800"
  </FilesMatch>
</IfModule>
